# 名刺OCR & 重複確認デモ

このアプリケーションは、名刺画像をOCRで解析し、データベースに登録する機能を持つStreamlitアプリです。LangGraphを活用したワークフローで、名刺データの重複チェックと処理を効率的に行います。

## 主な機能

- **名刺OCR処理**: アップロードされた名刺画像から文字情報を抽出（GPT-4oを使用）
- **重複チェック**: 既存データベースとの重複を自動検出
- **重複解決フロー**: 重複データの上書きまたはスキップをユーザーが選択可能
- **データ管理**: SQLiteデータベースによる名刺データの永続化

## 技術スタック

- **Streamlit**: UIフレームワーク
- **OpenAI API (GPT-4o)**: 画像OCR処理
- **LangGraph**: ワークフロー制御
- **SQLite**: データベース

## 使用方法

1. 名刺画像を選択（複数枚同時処理可能）
2. 「解析開始」ボタンをクリック
3. 重複がある場合は、各エントリに対して「上書き」または「スキップ」を選択
4. 「決定して保存」ボタンをクリックして処理を完了

## ワークフロー

1. **OCR処理**: 名刺画像から名前、会社名、メールアドレス、電話番号を抽出
2. **重複チェック**: メールアドレスを基に既存データとの重複をチェック
3. **ユーザー決定**: 重複がある場合はユーザーに選択を促す
4. **データ保存**: 新規データと上書き指定されたデータをデータベースに保存

## 必要な環境変数

- `OPENAI_API_KEY`: OpenAI APIキー（事前に設定が必要）

## 依存パッケージ

- streamlit
- openai
- langgraph (0.3以降)
- sqlite3 (Python標準ライブラリ)
